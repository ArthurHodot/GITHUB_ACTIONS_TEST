name: A workflow for testint github action
on: push

jobs:

  upload:
    name: create a text a try to export it as artifact
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - uses: ./
      - run: |
          #ls -ld /home/github
          #sudo touch /home/github/test_file
          #chmod 777 /tmp/test_file
          #sudo echo "this is an other test bur from github action only" > /home/github/test_file
      - uses: actions/upload-artifact@v2
        with:
          name: artifact_test
          path: |
            /home/runner/work/_temp/_github_home/test_contained
            #/home/github/test_file

  download:
    name: download
    needs: upload
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@v2
        with: 
          name: artifact_test
      - run: |
          ls -l
          cat test_contained
          #cat /home/github/ref/test
          #cat /home/github/ref/test_contained
